{"ast":null,"code":"var _jsxFileName = \"D:\\\\KULIAH\\\\SKRIPSI\\\\Project\\\\solo_mina\\\\src\\\\auth\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { Box, Button, Center, FormControl, FormLabel, Heading, Input, Link, Text, useToast } from \"@chakra-ui/react\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const toast = useToast();\n\n  // set username dan password disimpan pada state \n  const [credentials, setCredentials] = useState({\n    username: '',\n    password: ''\n  });\n\n  // console.log(credentials)\n  // functions to input changes \n  const handleInputChanges = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setCredentials({\n      ...credentials,\n      [name]: value\n    });\n  };\n\n  // function untuk login \n  const handleLogin = async () => {\n    try {\n      const response = await axios.post('http://localhost:4000/api/v2/auth/login', credentials);\n      if (response.status === 400) {\n        toast({\n          title: 'Username or Password incorrect!',\n          status: 'error',\n          duration: 2000,\n          isClosable: true,\n          position: 'top'\n        });\n      }\n\n      // kondisional jika berhasil login\n      if (response.status === 200) {\n        const token = response.data.token;\n\n        // simpan token pada localstorage \n        localStorage.setItem('access_token', token);\n        if (response.data.role === 'superadmin') {\n          setTimeout(() => {\n            window.location.href = '/backoffice/dashboard';\n          }, 2000);\n\n          // menampilkan alert\n          toast({\n            title: 'Login Succesfull!',\n            status: 'success',\n            duration: 2000,\n            isClosable: true,\n            position: 'top'\n          });\n        }\n        if (response.data.role === 'admin') {\n          setTimeout(() => {\n            window.location.href = '/admin/dashboard';\n          }, 2000);\n\n          // menampilkan alert\n          toast({\n            title: 'Login Succesfull!',\n            status: 'success',\n            duration: 2000,\n            isClosable: true,\n            position: 'top'\n          });\n        }\n      }\n      // else if (response.status === 400) {\n      //     toast({\n      //         title: 'Username or Password incorrect!',\n      //         status: 'error',\n      //         duration: 2000,\n      //         isClosable: true,\n      //         position: 'top',\n      //     });\n      // }\n    } catch (error) {\n      console.log(error);\n      toast({\n        title: 'Internal Server Error!',\n        status: 'error',\n        duration: 2000,\n        isClosable: true,\n        position: 'top'\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      height: \"100vh\",\n      bgColor: \"#F5F7FA\",\n      bgSize: \"cover\",\n      children: /*#__PURE__*/_jsxDEV(Center, {\n        paddingTop: \"9%\",\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          bgColor: \"#FFFFFF\",\n          padding: \"50px\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          flexDir: \"column\",\n          children: [/*#__PURE__*/_jsxDEV(Heading, {\n            textAlign: \"center\",\n            fontSize: \"2xl\",\n            color: \"#00A551\",\n            children: \"Welcome Admin.!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            marginTop: \"10px\",\n            color: \"#474749\",\n            fontWeight: \"normal\",\n            textAlign: \"center\",\n            children: \"Please Input Your Username and Password For Get Access\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            marginTop: \"30px\",\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              color: \"#7F7E83\",\n              fontWeight: \"normal\",\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"username\",\n              value: credentials.username,\n              onChange: handleInputChanges\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormLabel, {\n              marginTop: \"20px\",\n              color: \"#7F7E83\",\n              fontWeight: \"normal\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              name: \"password\",\n              value: credentials.password,\n              onChange: handleInputChanges\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Center, {\n              marginTop: \"30px\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                bgColor: \"#00A551\",\n                color: \"#FFFFFF\",\n                width: \"120px\",\n                height: \"30px\",\n                borderRadius: \"15px\",\n                alignContent: \"center\",\n                onClick: handleLogin,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Center, {\n            gap: \"5px\",\n            marginTop: \"30px\",\n            children: [/*#__PURE__*/_jsxDEV(Text, {\n              color: \"#474749\",\n              fontWeight: \"normal\",\n              children: \"Forgot Password ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              color: \"#00A551\",\n              textDecoration: \"underline\",\n              href: \"/forgotPassword\",\n              children: \"Click here\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"moyPvoscOfhbb1++LrS0InUVMGk=\", false, function () {\n  return [useToast];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Box","Button","Center","FormControl","FormLabel","Heading","Input","Link","Text","useToast","axios","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","toast","credentials","setCredentials","username","password","handleInputChanges","event","name","value","target","handleLogin","response","post","status","title","duration","isClosable","position","token","data","localStorage","setItem","role","setTimeout","window","location","href","error","console","log","children","height","bgColor","bgSize","paddingTop","padding","display","justifyContent","flexDir","textAlign","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","fontWeight","type","onChange","width","borderRadius","alignContent","onClick","gap","textDecoration","_c","$RefreshReg$"],"sources":["D:/KULIAH/SKRIPSI/Project/solo_mina/src/auth/Login.jsx"],"sourcesContent":["import { Box, Button, Center, FormControl, FormLabel, Heading, Input, Link, Text, useToast } from \"@chakra-ui/react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const toast = useToast()\r\n\r\n    // set username dan password disimpan pada state \r\n    const [credentials, setCredentials] = useState({\r\n        username: '',\r\n        password: '',\r\n    });\r\n\r\n    // console.log(credentials)\r\n    // functions to input changes \r\n    const handleInputChanges = (event) => {\r\n        const { name, value } = event.target;\r\n        setCredentials({\r\n            ...credentials,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    // function untuk login \r\n    const handleLogin = async () => {\r\n        try {\r\n            const response = await axios.post('http://localhost:4000/api/v2/auth/login', credentials)\r\n            \r\n            if (response.status === 400) {\r\n                toast({\r\n                    title: 'Username or Password incorrect!',\r\n                    status: 'error',\r\n                    duration: 2000,\r\n                    isClosable: true,\r\n                    position: 'top',\r\n                });\r\n            }\r\n            \r\n            // kondisional jika berhasil login\r\n            if (response.status === 200) {\r\n                const token = response.data.token;\r\n\r\n                // simpan token pada localstorage \r\n                localStorage.setItem('access_token', token);\r\n                \r\n                if (response.data.role === 'superadmin') {\r\n                    setTimeout(() => {\r\n                        window.location.href = '/backoffice/dashboard'  \r\n                    }, 2000);\r\n\r\n                    // menampilkan alert\r\n                    toast({\r\n                        title: 'Login Succesfull!',\r\n                        status: 'success',\r\n                        duration: 2000,\r\n                        isClosable: true,\r\n                        position: 'top',\r\n                    });\r\n                } \r\n              \r\n                if (response.data.role === 'admin') {\r\n                    setTimeout(() => {\r\n                        window.location.href = '/admin/dashboard'  \r\n                    }, 2000);\r\n\r\n                    // menampilkan alert\r\n                    toast({\r\n                        title: 'Login Succesfull!',\r\n                        status: 'success',\r\n                        duration: 2000,\r\n                        isClosable: true,\r\n                        position: 'top',\r\n                    });\r\n                }\r\n                \r\n            }\r\n            // else if (response.status === 400) {\r\n            //     toast({\r\n            //         title: 'Username or Password incorrect!',\r\n            //         status: 'error',\r\n            //         duration: 2000,\r\n            //         isClosable: true,\r\n            //         position: 'top',\r\n            //     });\r\n            // }\r\n            \r\n        } catch (error) {\r\n            console.log(error);\r\n            toast({\r\n                title: 'Internal Server Error!',\r\n                status: 'error',\r\n                duration: 2000,\r\n                isClosable: true,\r\n                position: 'top'\r\n            });\r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n            <Box height={\"100vh\"} bgColor={\"#F5F7FA\"} bgSize={\"cover\"}>\r\n                <Center paddingTop={\"9%\"}>\r\n                    <Box bgColor={\"#FFFFFF\"} padding={\"50px\"} display={\"flex\"} justifyContent={\"space-between\"} flexDir={\"column\"}>\r\n                        <Heading textAlign={\"center\"} fontSize={\"2xl\"} color={\"#00A551\"}>Welcome Admin.!</Heading>\r\n                        <Text marginTop={\"10px\"} color={\"#474749\"} fontWeight={\"normal\"} textAlign={\"center\"}>Please Input Your Username and Password For Get Access</Text>\r\n\r\n                        <FormControl marginTop={\"30px\"}>\r\n                            <FormLabel color={\"#7F7E83\"} fontWeight={\"normal\"}>\r\n                                Username\r\n                            </FormLabel>\r\n                            <Input type=\"text\" name=\"username\" value={credentials.username} onChange={handleInputChanges}></Input>\r\n\r\n                            <FormLabel marginTop={\"20px\"} color={\"#7F7E83\"} fontWeight={\"normal\"}>\r\n                                Password\r\n                            </FormLabel>\r\n                            <Input type=\"text\" name=\"password\" value={credentials.password} onChange={handleInputChanges}></Input>\r\n\r\n                            <Center marginTop={\"30px\"} >\r\n                                <Button bgColor={\"#00A551\"} color={\"#FFFFFF\"} width={\"120px\"} height={\"30px\"} borderRadius={\"15px\"} alignContent={\"center\"} onClick={handleLogin}>\r\n                                    Login\r\n                                </Button>\r\n                            </Center>\r\n                        </FormControl>\r\n\r\n                        <Center gap={\"5px\"} marginTop={\"30px\"}>\r\n                            <Text color={\"#474749\"} fontWeight={\"normal\"}>Forgot Password ?</Text>\r\n                            <Link color={\"#00A551\"} textDecoration={\"underline\"} href=\"/forgotPassword\">Click here</Link>\r\n                        </Center>\r\n                    </Box>\r\n                </Center>\r\n            </Box>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}